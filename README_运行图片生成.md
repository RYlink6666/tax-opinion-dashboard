# 系统架构图生成指南

## 📊 三种运行方式（选择一种）

### 方式1：直接命令行（最简单）

**Windows CMD:**
```cmd
cd /d "f:\研究生经济学\税收经济学科研\最优税收理论\电商舆论数据产品"
python quick_draw.py
```

**Windows PowerShell:**
```powershell
cd "f:\研究生经济学\税收经济学科研\最优税收理论\电商舆论数据产品"
python quick_draw.py
```

**Mac/Linux:**
```bash
cd ~/path/to/电商舆论数据产品
python3 quick_draw.py
```

---

### 方式2：双击运行（Windows）

1. 打开文件管理器
2. 进入 `电商舆论数据产品` 文件夹
3. **双击** `run_draw.ps1` 文件
   - 如果提示安全警告，选择"运行"或"允许"
4. PowerShell窗口会自动执行脚本并生成图片

---

### 方式3：编辑器直接运行（Visual Studio Code等）

1. 打开 `quick_draw.py`
2. 按 `F5` 或点击右上角的"运行"按钮
3. 在终端中查看执行结果

---

## 📁 生成的文件

运行后会在同目录生成：

```
电商舆论数据产品/
├── quick_draw.py              ← 执行这个文件
├── run_draw.ps1               ← 或者运行这个脚本
├── 系统架构图.png             ← 输出：高分辨率PNG（300dpi）
└── 系统架构图.pdf             ← 输出：矢量PDF
```

## 🎯 使用场景

| 文件格式 | 用途 | 优点 |
|---------|------|------|
| **PNG** | 插入Word/Markdown文档 | 清晰，文件小，兼容性好 |
| **PDF** | 投影演讲、印刷 | 矢量格式，缩放不失质 |

---

## ⚠️ 常见问题

### Q: 运行后没有看到窗口？
**A:** 正常。脚本直接保存文件到本地，无需显示窗口。打开生成的 `.png` 文件即可查看。

### Q: 提示"ModuleNotFoundError: No module named 'matplotlib'"？
**A:** 需要安装matplotlib。运行：
```bash
pip install matplotlib
```

### Q: PDF没有生成？
**A:** 可能是环境问题。PNG已经生成可用，PDF可选。

### Q: 图片中的中文显示为方块？
**A:** 这是字体问题。运行脚本会自动尝试安装中文字体。如仍有问题，编辑脚本第7-8行：
```python
plt.rcParams['font.sans-serif'] = ['SimHei', 'Microsoft YaHei']
```
改为你系统中有的字体名称。

---

## 🚀 快速开始（复制粘贴）

**Windows用户：在PowerShell中粘贴以下命令**
```powershell
cd "f:\研究生经济学\税收经济学科研\最优税收理论\电商舆论数据产品"; python quick_draw.py
```

完成！

---

## 💡 生成后的下一步

1. **打开图片**
   ```bash
   # Windows
   start 系统架构图.png
   
   # Mac
   open 系统架构图.png
   
   # Linux
   xdg-open 系统架构图.png
   ```

2. **插入到文档**
   - 在Markdown中：`![](系统架构图.png)`
   - 在Word中：插入 > 图片 > 选择该文件
   - 在PPT中：插入 > 图片 > 选择该文件

3. **编辑图片**
   - 用GIMP编辑PNG
   - 用Adobe Illustrator或Inkscape编辑PDF

---

## 📝 脚本说明

**quick_draw.py 做了什么？**

```
┌─────────────────────────────────────────┐
│ quick_draw.py                            │
├─────────────────────────────────────────┤
│ 1. 加载matplotlib库                     │
│ 2. 创建图表对象                          │
│ 3. 绘制三层架构图                        │
│    ├─ 应用层（Streamlit）              │
│    ├─ 分析层（LangExtract + BERTopic） │
│    └─ 数据层（MediaCrawler）           │
│ 4. 添加文字说明和箭头                    │
│ 5. 保存为PNG和PDF                      │
└─────────────────────────────────────────┘
```

---

## ✅ 验证成功

运行完成后会看到类似输出：

```
开始生成系统架构图...
✅ PNG已生成：f:\...\系统架构图.png
✅ PDF已生成：f:\...\系统架构图.pdf

============================================================
📊 系统架构图绘制完成！
============================================================
✅ 输出文件：
   • f:\...\系统架构图.png
   • f:\...\系统架构图.pdf

💡 下一步：
   • 打开图片文件查看
   • 可插入到项目汇报文档
============================================================
```

成功！🎉

